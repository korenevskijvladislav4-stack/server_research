generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model account_transactions {
  id               Int                       @id @default(autoincrement())
  account_id       Int
  type             account_transactions_type
  amount           Decimal                   @db.Decimal(14, 2)
  currency         String?                   @db.VarChar(10)
  transaction_date DateTime                  @db.Date
  notes            String?                   @db.Text
  created_at       DateTime?                 @default(now()) @db.Timestamp(0)
  created_by       Int?
  casino_accounts  casino_accounts           @relation(fields: [account_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "account_transactions_ibfk_1")
  users            users?                    @relation(fields: [created_by], references: [id], onUpdate: NoAction, map: "account_transactions_ibfk_2")

  @@index([created_by], map: "created_by")
  @@index([account_id], map: "idx_account_id")
  @@index([transaction_date], map: "idx_transaction_date")
  @@index([type], map: "idx_type")
}

model casino_accounts {
  id                   Int                    @id @default(autoincrement())
  casino_id            Int
  geo                  String                 @db.VarChar(10)
  email                String?                @db.VarChar(255)
  phone                String?                @db.VarChar(50)
  password             String                 @db.VarChar(255)
  owner_id             Int?
  last_modified_at     DateTime?              @default(now()) @db.Timestamp(0)
  created_at           DateTime?              @default(now()) @db.Timestamp(0)
  updated_at           DateTime?              @default(now()) @db.Timestamp(0)
  account_transactions account_transactions[]
  casinos              casinos                @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_accounts_ibfk_1")
  users                users?                 @relation(fields: [owner_id], references: [id], onUpdate: NoAction, map: "casino_accounts_ibfk_2")

  @@index([casino_id], map: "idx_casino_id")
  @@index([geo], map: "idx_geo")
  @@index([owner_id], map: "idx_owner_id")
}

model casino_bonus_images {
  id             Int            @id @default(autoincrement())
  casino_id      Int
  bonus_id       Int
  file_path      String         @db.VarChar(500)
  original_name  String?        @db.VarChar(255)
  created_at     DateTime?      @default(now()) @db.Timestamp(0)
  casinos        casinos        @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_bonus_images_ibfk_1")
  casino_bonuses casino_bonuses @relation(fields: [bonus_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_bonus_images_ibfk_2")

  @@index([bonus_id], map: "idx_bonus_id")
  @@index([casino_id], map: "idx_casino_id")
}

model casino_bonuses {
  id                                     Int                            @id @default(autoincrement())
  casino_id                              Int
  geo                                    String                         @db.VarChar(10)
  name                                   String                         @db.VarChar(255)
  bonus_category                         casino_bonuses_bonus_category? @default(casino)
  bonus_kind                             casino_bonuses_bonus_kind?
  bonus_type                             casino_bonuses_bonus_type?
  bonus_value                            Decimal?                       @db.Decimal(10, 2)
  bonus_unit                             casino_bonuses_bonus_unit?     @default(amount)
  currency                               String?                        @db.VarChar(10)
  freespins_count                        Int?
  freespin_value                         Decimal?                       @db.Decimal(10, 2)
  freespin_game                          String?                        @db.VarChar(255)
  cashback_percent                       Decimal?                       @db.Decimal(5, 2)
  cashback_period                        String?                        @db.VarChar(50)
  min_deposit                            Decimal?                       @db.Decimal(10, 2)
  max_bonus                              Decimal?                       @db.Decimal(10, 2)
  max_cashout                            Decimal?                       @db.Decimal(10, 2)
  max_win_cash_value                     Decimal?                       @db.Decimal(12, 2)
  max_win_cash_unit                      String?                        @db.VarChar(20)
  max_win_freespin_value                 Decimal?                       @db.Decimal(12, 2)
  max_win_freespin_unit                  String?                        @db.VarChar(20)
  max_win_percent_value                  Decimal?                       @db.Decimal(12, 2)
  max_win_percent_unit                   String?                        @db.VarChar(20)
  wagering_requirement                   Decimal?                       @db.Decimal(10, 2)
  wagering_freespin                      Decimal?                       @db.Decimal(10, 2)
  wagering_games                         String?                        @db.VarChar(255)
  wagering_time_limit                    String?                        @db.VarChar(100)
  promo_code                             String?                        @db.VarChar(100)
  valid_from                             DateTime?                      @db.Date
  valid_to                               DateTime?                      @db.Date
  status                                 casino_bonuses_status?         @default(active)
  notes                                  String?                        @db.Text
  created_at                             DateTime?                      @default(now()) @db.Timestamp(0)
  updated_at                             DateTime?                      @default(now()) @db.Timestamp(0)
  created_by                             Int?
  updated_by                             Int?
  casino_bonus_images                    casino_bonus_images[]
  casinos                                casinos                        @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_bonuses_ibfk_1")
  users_casino_bonuses_created_byTousers users?                         @relation("casino_bonuses_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "casino_bonuses_ibfk_2")
  users_casino_bonuses_updated_byTousers users?                         @relation("casino_bonuses_updated_byTousers", fields: [updated_by], references: [id], onUpdate: NoAction, map: "casino_bonuses_ibfk_3")

  @@index([created_by], map: "created_by")
  @@index([casino_id, geo], map: "idx_casino_geo")
  @@index([status], map: "idx_status")
  @@index([updated_by], map: "updated_by")
}

model casino_comment_images {
  id              Int              @id @default(autoincrement())
  casino_id       Int
  comment_id      Int?
  file_path       String           @db.VarChar(500)
  original_name   String?          @db.VarChar(255)
  created_at      DateTime?        @default(now()) @db.Timestamp(0)
  casinos         casinos          @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_comment_images_ibfk_1")
  casino_comments casino_comments? @relation(fields: [comment_id], references: [id], onUpdate: NoAction, map: "casino_comment_images_ibfk_2")

  @@index([casino_id], map: "idx_casino_id")
  @@index([comment_id], map: "idx_comment_id")
}

model casino_comments {
  id                    Int                     @id @default(autoincrement())
  casino_id             Int
  user_id               Int
  text                  String                  @db.Text
  created_at            DateTime?               @default(now()) @db.Timestamp(0)
  updated_at            DateTime?               @default(now()) @db.Timestamp(0)
  casino_comment_images casino_comment_images[]
  casinos               casinos                 @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_comments_ibfk_1")
  users                 users                   @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_comments_ibfk_2")

  @@index([casino_id], map: "idx_casino_id")
  @@index([user_id], map: "user_id")
}

model casino_payment_images {
  id              Int             @id @default(autoincrement())
  casino_id       Int
  payment_id      Int
  file_path       String          @db.VarChar(500)
  original_name   String?         @db.VarChar(255)
  created_at      DateTime?       @default(now()) @db.Timestamp(0)
  casinos         casinos         @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_payment_images_ibfk_1")
  casino_payments casino_payments @relation(fields: [payment_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_payment_images_ibfk_2")

  @@index([casino_id], map: "idx_casino_id")
  @@index([payment_id], map: "idx_payment_id")
}

model casino_payments {
  id                                      Int                       @id @default(autoincrement())
  casino_id                               Int
  geo                                     String                    @db.VarChar(10)
  direction                               casino_payments_direction @default(deposit)
  type                                    String                    @db.VarChar(100)
  method                                  String                    @db.VarChar(100)
  min_amount                              Decimal?                  @db.Decimal(12, 2)
  max_amount                              Decimal?                  @db.Decimal(12, 2)
  currency                                String?                   @db.VarChar(10)
  notes                                   String?                   @db.Text
  created_at                              DateTime?                 @default(now()) @db.Timestamp(0)
  updated_at                              DateTime?                 @default(now()) @db.Timestamp(0)
  created_by                              Int?
  updated_by                              Int?
  casino_payment_images                   casino_payment_images[]
  casinos                                 casinos                   @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_payments_ibfk_1")
  users_casino_payments_created_byTousers users?                    @relation("casino_payments_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "casino_payments_ibfk_2")
  users_casino_payments_updated_byTousers users?                    @relation("casino_payments_updated_byTousers", fields: [updated_by], references: [id], onUpdate: NoAction, map: "casino_payments_ibfk_3")

  @@index([created_by], map: "created_by")
  @@index([casino_id, geo], map: "idx_casino_geo")
  @@index([updated_by], map: "updated_by")
}

model casino_profile_fields {
  id                                            Int                              @id @default(autoincrement())
  key_name                                      String                           @unique(map: "key_name") @db.VarChar(100)
  label                                         String                           @db.VarChar(255)
  description                                   String?                          @db.Text
  field_type                                    casino_profile_fields_field_type @default(text)
  options_json                                  Json?
  group_name                                    String?                          @db.VarChar(100)
  sort_order                                    Int                              @default(0)
  is_required                                   Boolean                          @default(false)
  is_active                                     Boolean                          @default(true)
  created_at                                    DateTime?                        @default(now()) @db.Timestamp(0)
  updated_at                                    DateTime?                        @default(now()) @db.Timestamp(0)
  created_by                                    Int?
  updated_by                                    Int?
  users_casino_profile_fields_created_byTousers users?                           @relation("casino_profile_fields_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "casino_profile_fields_ibfk_1")
  users_casino_profile_fields_updated_byTousers users?                           @relation("casino_profile_fields_updated_byTousers", fields: [updated_by], references: [id], onUpdate: NoAction, map: "casino_profile_fields_ibfk_2")
  casino_profile_history                        casino_profile_history[]
  casino_profile_values                         casino_profile_values[]

  @@index([created_by], map: "created_by")
  @@index([group_name], map: "idx_group_name")
  @@index([is_active], map: "idx_is_active")
  @@index([sort_order], map: "idx_sort_order")
  @@index([updated_by], map: "updated_by")
}

model casino_profile_history {
  id                    Int                           @id @default(autoincrement())
  casino_id             Int
  field_id              Int?
  action                casino_profile_history_action
  old_value_json        Json?
  new_value_json        Json?
  meta_json             Json?
  created_at            DateTime?                     @default(now()) @db.Timestamp(0)
  actor_user_id         Int?
  casinos               casinos                       @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_profile_history_ibfk_1")
  casino_profile_fields casino_profile_fields?        @relation(fields: [field_id], references: [id], onUpdate: NoAction, map: "casino_profile_history_ibfk_2")
  users                 users?                        @relation(fields: [actor_user_id], references: [id], onUpdate: NoAction, map: "casino_profile_history_ibfk_3")

  @@index([actor_user_id], map: "actor_user_id")
  @@index([field_id], map: "field_id")
  @@index([casino_id, created_at], map: "idx_casino_created_at")
}

model casino_profile_values {
  casino_id             Int
  field_id              Int
  value_json            Json?
  updated_at            DateTime?             @default(now()) @db.Timestamp(0)
  updated_by            Int?
  casinos               casinos               @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_profile_values_ibfk_1")
  casino_profile_fields casino_profile_fields @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_profile_values_ibfk_2")
  users                 users?                @relation(fields: [updated_by], references: [id], onUpdate: NoAction, map: "casino_profile_values_ibfk_3")

  @@id([casino_id, field_id])
  @@index([field_id], map: "field_id")
  @@index([updated_at], map: "idx_updated_at")
  @@index([updated_by], map: "updated_by")
}

model casino_promo_images {
  id            Int           @id @default(autoincrement())
  casino_id     Int
  promo_id      Int
  file_path     String        @db.VarChar(500)
  original_name String?       @db.VarChar(255)
  created_at    DateTime?     @default(now()) @db.Timestamp(0)
  casinos       casinos       @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_promo_images_ibfk_1")
  casino_promos casino_promos @relation(fields: [promo_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_promo_images_ibfk_2")

  @@index([casino_id], map: "idx_casino_id")
  @@index([promo_id], map: "idx_promo_id")
}

model casino_promos {
  id                                    Int                          @id @default(autoincrement())
  casino_id                             Int
  geo                                   String                       @db.VarChar(10)
  promo_category                        casino_promos_promo_category @default(tournament)
  name                                  String                       @db.VarChar(255)
  promo_type                            String?                      @db.VarChar(100)
  period_start                          DateTime?                    @db.Date
  period_end                            DateTime?                    @db.Date
  provider                              String?                      @db.VarChar(255)
  prize_fund                            String?                      @db.VarChar(100)
  mechanics                             String?                      @db.Text
  min_bet                               String?                      @db.VarChar(100)
  wagering_prize                        String?                      @db.VarChar(100)
  status                                casino_promos_status?        @default(active)
  created_at                            DateTime?                    @default(now()) @db.Timestamp(0)
  updated_at                            DateTime?                    @default(now()) @db.Timestamp(0)
  created_by                            Int?
  updated_by                            Int?
  casino_promo_images                   casino_promo_images[]
  casinos                               casinos                      @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_promos_ibfk_1")
  users_casino_promos_created_byTousers users?                       @relation("casino_promos_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "casino_promos_ibfk_2")
  users_casino_promos_updated_byTousers users?                       @relation("casino_promos_updated_byTousers", fields: [updated_by], references: [id], onUpdate: NoAction, map: "casino_promos_ibfk_3")

  @@index([created_by], map: "created_by")
  @@index([casino_id, geo], map: "idx_promo_casino_geo")
  @@index([promo_category], map: "idx_promo_category")
  @@index([status], map: "idx_promo_status")
  @@index([updated_by], map: "updated_by")
}

model casino_providers {
  id          Int       @id @default(autoincrement())
  casino_id   Int
  provider_id Int
  geo         String    @db.VarChar(32)
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  casinos     casinos   @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_providers_ibfk_1")
  providers   providers @relation(fields: [provider_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_providers_ibfk_2")

  @@unique([casino_id, provider_id, geo], map: "uq_casino_provider_geo")
  @@index([casino_id, geo], map: "idx_casino_geo")
  @@index([provider_id], map: "provider_id")
}

model casino_tags {
  casino_id Int
  tag_id    Int
  casinos   casinos @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_tags_ibfk_1")
  tags      tags    @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_tags_ibfk_2")

  @@id([casino_id, tag_id])
  @@index([tag_id], map: "tag_id")
}

model casino_tasks {
  id                                    Int                   @id @default(autoincrement())
  casino_id                             Int
  title                                 String                @db.VarChar(500)
  description                           String?               @db.Text
  status                                casino_tasks_status   @default(todo)
  priority                              casino_tasks_priority @default(medium)
  assigned_to                           Int?
  due_date                              DateTime?             @db.Date
  created_by                            Int?
  created_at                            DateTime?             @default(now()) @db.Timestamp(0)
  updated_at                            DateTime?             @default(now()) @db.Timestamp(0)
  casinos                               casinos               @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "casino_tasks_ibfk_1")
  users_casino_tasks_assigned_toTousers users?                @relation("casino_tasks_assigned_toTousers", fields: [assigned_to], references: [id], onUpdate: NoAction, map: "casino_tasks_ibfk_2")
  users_casino_tasks_created_byTousers  users?                @relation("casino_tasks_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "casino_tasks_ibfk_3")

  @@index([created_by], map: "created_by")
  @@index([assigned_to], map: "idx_assigned_to")
  @@index([casino_id], map: "idx_casino_id")
  @@index([status], map: "idx_status")
}

model casinos {
  id                     Int                      @id @default(autoincrement())
  name                   String                   @db.VarChar(255)
  website                String?                  @db.VarChar(255)
  description            String?                  @db.Text
  geo                    Json?
  is_our                 Boolean?                 @default(false)
  status                 casinos_status?          @default(pending)
  created_at             DateTime?                @default(now()) @db.Timestamp(0)
  updated_at             DateTime?                @default(now()) @db.Timestamp(0)
  created_by             Int?
  casino_accounts        casino_accounts[]
  casino_bonus_images    casino_bonus_images[]
  casino_bonuses         casino_bonuses[]
  casino_comment_images  casino_comment_images[]
  casino_comments        casino_comments[]
  casino_payment_images  casino_payment_images[]
  casino_payments        casino_payments[]
  casino_profile_history casino_profile_history[]
  casino_profile_values  casino_profile_values[]
  casino_promo_images    casino_promo_images[]
  casino_promos          casino_promos[]
  casino_providers       casino_providers[]
  casino_tags            casino_tags[]
  casino_tasks           casino_tasks[]
  users                  users?                   @relation(fields: [created_by], references: [id], onUpdate: NoAction, map: "casinos_ibfk_1")
  emails                 emails[]
  profile_settings       profile_settings[]
  promo_campaigns        promo_campaigns[]
  slot_selectors         slot_selectors[]
  slots                  slots[]

  @@index([created_by], map: "created_by")
}

model email_attachments {
  id           Int       @id @default(autoincrement())
  email_id     Int
  filename     String    @db.VarChar(255)
  content_type String?   @db.VarChar(100)
  size         Int?
  file_path    String?   @db.VarChar(500)
  created_at   DateTime? @default(now()) @db.Timestamp(0)
  emails       emails    @relation(fields: [email_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "email_attachments_ibfk_1")

  @@index([email_id], map: "email_id")
}

model email_topics {
  id          Int       @id @default(autoincrement())
  name        String    @db.VarChar(255)
  description String?   @db.Text
  sort_order  Int       @default(0)
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)
}

model emails {
  id                Int                 @id @default(autoincrement())
  message_id        String              @unique(map: "message_id") @db.VarChar(255)
  subject           String?             @db.VarChar(500)
  from_email        String?             @db.VarChar(255)
  from_name         String?             @db.VarChar(255)
  to_email          String?             @db.VarChar(255)
  body_text         String?             @db.LongText
  body_html         String?             @db.LongText
  date_received     DateTime?           @db.DateTime(0)
  is_read           Boolean?            @default(false)
  is_archived       Boolean?            @default(false)
  related_casino_id Int?
  related_promo_id  Int?
  created_at        DateTime?           @default(now()) @db.Timestamp(0)
  ai_summary        String?             @db.Text
  screenshot_url    String?             @db.VarChar(500)
  topic_id          Int?
  email_attachments email_attachments[]
  casinos           casinos?            @relation(fields: [related_casino_id], references: [id], onUpdate: NoAction, map: "emails_ibfk_1")
  promo_campaigns   promo_campaigns?    @relation(fields: [related_promo_id], references: [id], onUpdate: NoAction, map: "emails_ibfk_2")

  @@index([date_received], map: "idx_date_received")
  @@index([from_email], map: "idx_from_email")
  @@index([message_id], map: "idx_message_id")
  @@index([related_casino_id], map: "related_casino_id")
  @@index([related_promo_id], map: "related_promo_id")
}

model geos {
  id         Int       @id @default(autoincrement())
  code       String    @unique(map: "code") @db.VarChar(10)
  name       String    @db.VarChar(100)
  is_active  Boolean   @default(true)
  sort_order Int       @default(0)
  created_at DateTime? @default(now()) @db.Timestamp(0)
  updated_at DateTime? @default(now()) @db.Timestamp(0)

  @@index([is_active], map: "idx_is_active")
  @@index([sort_order], map: "idx_sort_order")
}

model imap_accounts {
  id                            Int                           @id @default(autoincrement())
  name                          String                        @db.VarChar(255)
  connection_type               imap_accounts_connection_type @default(imap)
  host                          String                        @db.VarChar(255)
  port                          Int                           @default(993)
  user                          String                        @db.VarChar(255)
  password_encrypted            String                        @db.Text
  oauth_refresh_token_encrypted String?                       @db.Text
  tls                           Boolean                       @default(true)
  is_active                     Boolean                       @default(true)
  created_at                    DateTime?                     @default(now()) @db.Timestamp(0)
  updated_at                    DateTime?                     @default(now()) @db.Timestamp(0)
}

model profile_contexts {
  id               Int                @id @default(autoincrement())
  name             String             @db.VarChar(255)
  sort_order       Int                @default(0)
  is_active        Boolean            @default(true)
  created_at       DateTime?          @default(now()) @db.Timestamp(0)
  updated_at       DateTime?          @default(now()) @db.Timestamp(0)
  profile_settings profile_settings[]

  @@index([is_active], map: "idx_is_active")
  @@index([sort_order], map: "idx_sort_order")
}

model profile_fields {
  id               Int                @id @default(autoincrement())
  name             String             @db.VarChar(255)
  sort_order       Int                @default(0)
  is_active        Boolean            @default(true)
  created_at       DateTime?          @default(now()) @db.Timestamp(0)
  updated_at       DateTime?          @default(now()) @db.Timestamp(0)
  profile_settings profile_settings[]

  @@index([is_active], map: "idx_is_active")
  @@index([sort_order], map: "idx_sort_order")
}

model profile_settings {
  id               Int              @id @default(autoincrement())
  casino_id        Int
  geo              String           @default("ALL") @db.VarChar(10)
  field_id         Int
  context_id       Int
  value            Boolean          @default(false)
  created_at       DateTime?        @default(now()) @db.Timestamp(0)
  updated_at       DateTime?        @default(now()) @db.Timestamp(0)
  casinos          casinos          @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "profile_settings_ibfk_1")
  profile_fields   profile_fields   @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "profile_settings_ibfk_2")
  profile_contexts profile_contexts @relation(fields: [context_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "profile_settings_ibfk_3")

  @@unique([casino_id, geo, field_id, context_id], map: "unique_casino_geo_field_context")
  @@index([context_id], map: "context_id")
  @@index([field_id], map: "field_id")
  @@index([casino_id], map: "idx_casino_id")
}

model promo_campaigns {
  id                   Int                     @id @default(autoincrement())
  casino_id            Int
  title                String                  @db.VarChar(255)
  description          String?                 @db.Text
  start_date           DateTime?               @db.Date
  end_date             DateTime?               @db.Date
  promo_code           String?                 @db.VarChar(100)
  bonus_type           String?                 @db.VarChar(100)
  bonus_amount         Decimal?                @db.Decimal(10, 2)
  wagering_requirement Decimal?                @db.Decimal(10, 2)
  status               promo_campaigns_status? @default(upcoming)
  created_at           DateTime?               @default(now()) @db.Timestamp(0)
  updated_at           DateTime?               @default(now()) @db.Timestamp(0)
  created_by           Int?
  emails               emails[]
  casinos              casinos                 @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "promo_campaigns_ibfk_1")
  users                users?                  @relation(fields: [created_by], references: [id], onUpdate: NoAction, map: "promo_campaigns_ibfk_2")

  @@index([casino_id], map: "casino_id")
  @@index([created_by], map: "created_by")
}

model providers {
  id               Int                @id @default(autoincrement())
  name             String             @unique(map: "name") @db.VarChar(255)
  created_at       DateTime?          @default(now()) @db.Timestamp(0)
  casino_providers casino_providers[]
}

model ref_bonus_names {
  id         Int       @id @default(autoincrement())
  name       String    @unique(map: "name") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model ref_payment_methods {
  id         Int       @id @default(autoincrement())
  name       String    @unique(map: "name") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model ref_payment_types {
  id         Int       @id @default(autoincrement())
  name       String    @unique(map: "name") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model ref_promo_types {
  id         Int       @id @default(autoincrement())
  name       String    @unique(map: "name") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model slot_screenshots {
  id              Int            @id @default(autoincrement())
  selector_id     Int
  screenshot_path String         @db.VarChar(500)
  created_at      DateTime?      @default(now()) @db.Timestamp(0)
  slot_selectors  slot_selectors @relation(fields: [selector_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "slot_screenshots_ibfk_1")

  @@index([created_at], map: "idx_created_at")
  @@index([selector_id], map: "idx_selector_id")
}

model slot_selectors {
  id               Int                @id @default(autoincrement())
  casino_id        Int
  geo              String             @db.VarChar(10)
  section          String             @default("Основной") @db.VarChar(255)
  category         String?            @db.VarChar(255)
  selector         String             @db.VarChar(500)
  url              String?            @db.VarChar(500)
  created_at       DateTime?          @default(now()) @db.Timestamp(0)
  updated_at       DateTime?          @default(now()) @db.Timestamp(0)
  slot_screenshots slot_screenshots[]
  casinos          casinos            @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "slot_selectors_ibfk_1")

  @@index([casino_id, geo], map: "idx_casino_geo")
  @@index([casino_id], map: "idx_casino_id")
  @@index([geo], map: "idx_geo")
}

model slots {
  id          Int       @id @default(autoincrement())
  casino_id   Int
  geo         String    @db.VarChar(10)
  name        String    @db.VarChar(255)
  provider    String?   @db.VarChar(255)
  image_url   String?   @db.VarChar(500)
  description String?   @db.Text
  rtp         Decimal?  @db.Decimal(5, 2)
  volatility  String?   @db.VarChar(50)
  min_bet     Decimal?  @db.Decimal(10, 2)
  max_bet     Decimal?  @db.Decimal(10, 2)
  max_win     Decimal?  @db.Decimal(10, 2)
  features    Json?
  tags        Json?
  is_featured Boolean?  @default(false)
  is_new      Boolean?  @default(false)
  is_popular  Boolean?  @default(false)
  parsed_at   DateTime? @db.Timestamp(0)
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)
  casinos     casinos   @relation(fields: [casino_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "slots_ibfk_1")

  @@unique([casino_id, geo, name], map: "unique_casino_geo_name")
  @@index([casino_id, geo], map: "idx_casino_geo")
  @@index([casino_id], map: "idx_casino_id")
  @@index([geo], map: "idx_geo")
  @@index([name], map: "idx_name")
  @@index([provider], map: "idx_provider")
}

model tags {
  id          Int           @id @default(autoincrement())
  name        String        @unique(map: "name") @db.VarChar(100)
  color       String?       @default("#1677ff") @db.VarChar(20)
  created_at  DateTime?     @default(now()) @db.Timestamp(0)
  casino_tags casino_tags[]
}

model users {
  id                                                            Int                      @id @default(autoincrement())
  username                                                      String                   @unique(map: "username") @db.VarChar(255)
  email                                                         String                   @unique(map: "email") @db.VarChar(255)
  password                                                      String                   @db.VarChar(255)
  role                                                          users_role?              @default(user)
  is_active                                                     Boolean                  @default(true)
  created_at                                                    DateTime?                @default(now()) @db.Timestamp(0)
  updated_at                                                    DateTime?                @default(now()) @db.Timestamp(0)
  account_transactions                                          account_transactions[]
  casino_accounts                                               casino_accounts[]
  casino_bonuses_casino_bonuses_created_byTousers               casino_bonuses[]         @relation("casino_bonuses_created_byTousers")
  casino_bonuses_casino_bonuses_updated_byTousers               casino_bonuses[]         @relation("casino_bonuses_updated_byTousers")
  casino_comments                                               casino_comments[]
  casino_payments_casino_payments_created_byTousers             casino_payments[]        @relation("casino_payments_created_byTousers")
  casino_payments_casino_payments_updated_byTousers             casino_payments[]        @relation("casino_payments_updated_byTousers")
  casino_profile_fields_casino_profile_fields_created_byTousers casino_profile_fields[]  @relation("casino_profile_fields_created_byTousers")
  casino_profile_fields_casino_profile_fields_updated_byTousers casino_profile_fields[]  @relation("casino_profile_fields_updated_byTousers")
  casino_profile_history                                        casino_profile_history[]
  casino_profile_values                                         casino_profile_values[]
  casino_promos_casino_promos_created_byTousers                 casino_promos[]          @relation("casino_promos_created_byTousers")
  casino_promos_casino_promos_updated_byTousers                 casino_promos[]          @relation("casino_promos_updated_byTousers")
  casino_tasks_casino_tasks_assigned_toTousers                  casino_tasks[]           @relation("casino_tasks_assigned_toTousers")
  casino_tasks_casino_tasks_created_byTousers                   casino_tasks[]           @relation("casino_tasks_created_byTousers")
  casinos                                                       casinos[]
  promo_campaigns                                               promo_campaigns[]
}

enum account_transactions_type {
  deposit
  withdrawal
}

enum imap_accounts_connection_type {
  imap
  gmail_oauth
}

enum casino_payments_direction {
  deposit
  withdrawal
}

enum casino_profile_history_action {
  set_value
  clear_value
  create_field
  update_field
  delete_field
}

enum casino_promos_promo_category {
  tournament
  promotion
}

enum casino_bonuses_bonus_category {
  casino
  sport
}

enum casino_profile_fields_field_type {
  text
  textarea
  number
  boolean
  select
  multiselect
  rating
  date
  url
}

enum casino_tasks_status {
  todo
  in_progress
  done
  cancelled
}

enum users_role {
  admin
  user
}

enum casino_bonuses_bonus_kind {
  deposit
  nodeposit
  cashback
  rakeback
}

enum casino_tasks_priority {
  low
  medium
  high
}

enum casino_bonuses_bonus_type {
  cash
  freespin
  combo
}

enum casinos_status {
  active
  inactive
  pending
}

enum casino_bonuses_bonus_unit {
  percent
  amount
}

enum promo_campaigns_status {
  active
  expired
  upcoming
}

enum casino_promos_status {
  active
  paused
  expired
  draft
}

enum casino_bonuses_status {
  active
  paused
  expired
  draft
}
